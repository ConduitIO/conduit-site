---
title: 'Built-in processors'
sidebar_position: 1
---

:::note
Note that all built-in processors that operate on the payload actually operate on `Record.Payload.After`.
If you need to manipulate the field `Record.Payload.Before` you can use
a [JavaScript processor](./javascript-processors).
:::

Below is a list of available built-in processors in Conduit. An example usage of a built-in processor is available in
[`extract-field-transform.sh`](https:github.com/ConduitIO/conduit/blob/main/examples/processors/extract-field-transform.sh).
The script will run Conduit with a pipeline containing the built-in `extractfieldpayload` processor.

### extractfieldkey

- If the key is raw and has a schema attached, extracts the field and uses it to replace the entire key.
- If the key is raw and has no schema, returns an error (not supported).
- If the key is structured, extracts the field and uses it to replace the entire key.

#### Configuration

- `field`
  (Required) Name of the field which replaces the entire key.

### extractfieldpayload

Works in the same way as [extractfieldkey](#extractfieldkey), except that its applied to `Record.Payload.After`.

### filterfieldkey

`filterfieldkey` includes or excludes records (i.e. drops them from the pipeline) using an XPath expression.

#### Configuration

- `type` (Required)
  Sets the behavior to "include" or "exclude" the record based on the result of the condition. Possible values
  are: `include`, `exclude`.
- `condition` (Required, XPath expression)
  An XPath query expression that the user defines to forward or drop a record on its results.
- `missingornull` (Optional)
  Defines how to handle the record in the event the fields the query would use don't exist. Possible values
  are: `fail`, `include`, `exclude`. Defaults to `fail`.
- `exists` (Optional)
  Gives the user a chance to define an existence query for a given filter. Possible values
  are: `fail`, `include`, `exclude`. Defaults to `fail`.

If `condition` passes, then it will immediately handle the record as `type` dictates. If `condition` doesn't match
and `exists` matches nothing, then it will handle the record as `missingornull` specifies.

### filterfieldpayload

Works in the same way as [filterfieldkey](#filterfieldkey), except that its applied to `Record.Payload.After`.

### hoistfieldkey

- If the key is raw and has a schema attached, wraps it using the specified field name in a struct.
- If the key is raw and has no schema, transforms it into structured data by creating a map with the hoisted field and
  raw data as the value.
- If the key is structured, wraps it using the specified field name in a map.

#### Configuration

- `field` (Required)
  Name of the field which replaces the entire key.

### hoistfieldpayload

`hoistfieldpayload` builds the same processor as [hoistfieldkey](#hoistfieldkey), except that it operates on the field
`Record.Payload.After`.

### httprequest

`httprequest` replaces a record's `Payload.After` field with the response of the HTTP request. The response body is
wrapped in `RawData`.

#### Configuration

- `url`
  (Required) URL used in the HTTP request.
- `method` (Optional)
  HTTP request method to be used. Defaults to `POST`.
- `backoffRetry.count`
  (Optional, integer) Maximum number of retries when backing off following an error. Defaults to 0.
- `backoffRetry.factor` (Optional, integer)
  The multiplying factor for each increment step. Defaults to 2.
- `backoffRetry.min` (Optional, [duration string](https://pkg.go.dev/time#ParseDuration))
  Minimum waiting time before retrying. Defaults to `100ms`.
- `backoffRetry.max` (Optional, [duration string](https://pkg.go.dev/time#ParseDuration))
  Maximum waiting time before retrying. Defaults to `5s`.

### insertfieldkey

Inserts a field into key. It's possible to insert a static value or the record's position.

- If the key is raw and has a schema attached, insert the field(s) in the key data.
- If the key is raw and has no schema, return an error (not supported).
- If the key is structured, set the field(s) in the key data.

#### Configuration

- `static.field` (Required, if `position.field` is not set)
  Name of the field into which the value in `static.value` will be inserted.
- `static.value` (Required, if `static.field` is set)
  Value to be inserted.
- `position.field` (Required, if `static.field` is not set)
  Name of the field into which the record's position will be inserted.

### insertfieldpayload

Works in the same way as [insertfieldkey](#insertfieldkey), except that its applied to `Record.Payload.After`.
