---
title: "Building Connectors"
sidebar_position: 5
---

## Developing Custom Connectors

The Conduit platform offers extensibility through the development of connectors, which can be written in any programming language that supports [gRPC](https://grpc.io/). For ease of development, a Go-based [Connector SDK](https://github.com/ConduitIO/conduit-connector-sdk) is provided and its use is the recommended approach for creating Conduit connectors.

## Initializing a Conduit Connector Project

To begin the development of a custom Conduit connector, developers should initialize their project using the [Conduit connector template](https://github.com/ConduitIO/conduit-connector-template). This template streamlines the setup process by providing a fundamental project structure, along with utility configurations for GitHub actions and a Makefile.

Included in the Conduit Connector Template are:

- Base code for configuring the connector's source and destination.
- Sample unit tests to validate connector functionality.
- A preconfigured Makefile to assist with common build tasks.
- GitHub Actions Workflows for continuous integration including building, testing, linting, and automated release creation upon tag push.
- Dependabot configurations to automate dependency updates and minor version auto-merging.
- Issue and Pull Request templates for consistent contribution practices.
- A README template to guide project documentation.

### Steps to Use the Connector Template

1. On the repository's main page, select "Use this template".
2. Provide the new repository details as prompted.
3. Upon repository creation, clone it to your local development environment.
4. Execute the `./setup.sh` script with the desired module name, e.g., `./setup.sh github.com/awesome-org/conduit-connector-file`.
5. (Optional) Define code owners in the `CODEOWNERS` file.

## Connector Development Lifecycle

A Conduit Connector can serve as a source, destination, or both. Implement a source connector by defining a struct that satisfies the [sdk.Source](<https://pkg.go.dev/github.com/conduitio/conduit-connector-sdk#Source>) interface, or create a destination connector by creating a struct that satisfies [sdk.Destination](<https://pkg.go.dev/github.com/conduitio/conduit-connector-sdk#Destination>).

### Connector Component Files

#### `spec.go`

This file defines the public-facing characteristics of the connector such as its name and capabilities. Begin by updating placeholder values with the specific details of your connector.

![spec.go](/img/spec-go.png)

#### `config.go`

This file holds configuration parameters shared between source and destination, if applicable. If separate configuration is required for source and destination, distinct `config.go` files should be created for each.

![config.go](/img/config-go.png)

#### `paramgen_src` and `paramgen_dst`

These files are created using the [paramgen](https://github.com/ConduitIO/conduit-connector-sdk/tree/main/cmd/paramgen) tool, which generates code from the Config struct to provide a map of configuration parameters.

An example usage of the `paramgen` tool to generate a new map after updating a config struct is as follows:

```paramgen -path=./source -output=paramgen_src.go SourceConfig```

![paramgen.go](/img/paramgen-go.png)

#### `source.go` and `destination.go`

Define the principal operation logic of your connector within these files. Both types of connectors must handle configuration, establish connections, perform read/write operations, and properly close connections upon completion. Auxiliary functions for the configuration lifecycle are provided by the template.

- **`Configure()`**: Validates and stores configuration data for the connector. Any complex validation logic should be implemented here.
![configure-func.go](/img/configure-func.png)
- **`Open()`**: (Source connectors only) Prepares the connector to start producing records based on the last known successful position.
![open-func.go](/img/open-func.png)
- **`Write()`**: (Destination connectors only) Writes records received from the Conduit pipeline directly to the destination.
![write-func.go](/img/write-func.png)

### Building and Launching the Connector

Utilize the included `Makefile` for compiling a binary of your connector:

```bash
make build

```

Place the resulting binary file in Conduit's `connectors` directory. Run Conduit with:

```bash
./conduit

```

Access the Conduit UI at `http://localhost:8080/ui` to manage and observe your custom connector within the available connectors list.


## Supported data types

There are no limitations when it comes to data types a source connector can read
from a source. However, if a standalone source connector uses `record.StructuredData`
in its key or any part of the payload, then there are certain limitations in the
data types it can send to Conduit.

The following data types are supported:
* `bool`
* `int`, `int32`, `int64`, `uint`, `uint32`, `uint64`
* `float32`, `float64`
* `string`
* `[]byte` (stored as a string, base64-encoded)
* `map[string]interface{}` (a map of strings to any of the values that are supported)
* `[]interface{}` (a slice of any value that is supported)

A notable limitation is timestamps, i.e. `time.Time` values are not supported.

One way to support other values is to encode source data to a `[]byte` (e.g. using
a JSON encoding) and then store the value as `record.RawData`.
