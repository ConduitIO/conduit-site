---
title: 'Schema Support'
sidebar_position: 7
keywords: [ 'schema', 'avro', 'confluent' ]
---

## Overview

Conduit can manage the structure and format of data as it moves through the
pipeline. This makes it possible to take advantage of the benefits that the
associated type information provides, such as:

- Data Integrity: Ensuring that data adheres to the expected structure, reducing
  the risk of errors and inconsistencies.
- Type Safety: Retaining type information throughout the data pipeline, allowing
  for safe and accurate data processing.
- Future-Proofing: Preparing the system to handle evolving data structures,
  making it easier to adapt to changes without significant disruptions.

Every [record](/docs/features/opencdc-record) that contains structured
data can be associated with a schema.
The [Apache Avroâ„¢](https://avro.apache.org/) format is supported and support for
more schema types is planned.

Since both, a record's key and payload, can be structured, schemas can be
associated with either. Schemas are not part of a record for performance
reasons. Instead, a record's metadata contains information about
the [key schema](/docs/features/opencdc-record#opencdckeyschema)'s subject and
version as well
the [payload schema](/docs/features/opencdc-record#opencdcpayloadschema)'s
subject and version. The schemas themselves are managed
by [the schema registry](#schema-registry).

## Schema Registry

The schema registry is used internally in Conduit store the schemas of records.
It can either be embedded as part of Conduit (**built-in type**) or run as a
standalone service exposing a REST API that's compatible
with [Confluent's Schema registry](https://docs.confluent.io/current/schema-registry/develop/api.html) (
**confluent type**).

To use an external schema registry, you can use the following configuration
options in
your [pipeline configuration file](/docs/pipeline-configuration-files/getting-started)

```yaml
schema-registry:
  type: confluent
  confluent:
    connection-string: http://localhost:8081
```

Or when running Conduit from the command line you can use the following flags:

```shell
$ ./conduit 
  -schema-registry.type=confluent 
  -schema-registry.confluent.connection-string=http://localhost:8081
```

When using a **built-in schema**, the schema registry service will use the
same [**persistence layer
**](/docs/getting-started/architecture#persistence-layer) as the rest of
Conduit. By default, it uses BadgerDB, but it can be configured to use
PostgreSQL, SQLite, or in-memory storage. More information
on [storage](/docs/features/storage).
